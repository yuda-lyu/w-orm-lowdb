/*!
 * w-orm-lowdb v1.0.2
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("events"),require("lowdb"),require("node:fs"),require("node:fs/promises"),require("node:path"),require("node:url"),require("mingo")):"function"==typeof define&&define.amd?define(["events","lowdb","node:fs","node:fs/promises","node:path","node:url","mingo"],e):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-orm-lowdb"]=e(t.events,t.lowdb,null,t.promises,t.path,t.node_url,t.mingo)}(this,(function(t,e,r,n,o,i,u){"use strict";class a{#t;#e;#r=!1;#n=null;#o=null;#i=null;#u=null;#a(t){return this.#u=t,this.#i||=new Promise(((t,e)=>{this.#o=[t,e]})),new Promise(((t,e)=>{var r;null===(r=this.#i)||void 0===r||r.then(t).catch(e)}))}async#c(t){this.#r=!0;try{var e;await n.writeFile(this.#e,t,"utf-8"),await async function(t,e,r){for(let n=0;n<e;n++)try{return await t()}catch(t){if(!(n<e-1))throw t;await new Promise((t=>setTimeout(t,r)))}}((async()=>{await n.rename(this.#e,this.#t)}),10,100),null===(e=this.#n)||void 0===e||e[0]()}catch(t){var r;if(t instanceof Error)null===(r=this.#n)||void 0===r||r[1](t);throw t}finally{if(this.#r=!1,this.#n=this.#o,this.#o=this.#i=null,null!==this.#u){const t=this.#u;this.#u=null,await this.write(t)}}}constructor(t){this.#t=t,this.#e=function(t){const e=t instanceof URL?i.fileURLToPath(t):t.toString();return o.join(o.dirname(e),`.${o.basename(e)}.tmp`)}(t)}async write(t){return this.#r?this.#a(t):this.#c(t)}}class c{#t;#l;constructor(t){this.#t=t,this.#l=new a(t)}async read(){let t;try{t=await n.readFile(this.#t,"utf-8")}catch(t){if("ENOENT"===t.code)return null;throw t}return t}write(t){return this.#l.write(t)}}class l{#f;#s;#h;constructor(t,e){let{parse:r,stringify:n}=e;this.#f=new c(t),this.#s=r,this.#h=n}async read(){const t=await this.#f.read();return null===t?null:this.#s(t)}write(t){return this.#f.write(this.#h(t))}}class f extends l{constructor(t){super(t,{parse:JSON.parse,stringify:t=>JSON.stringify(t,null,2)})}}const s=new Error("request for lock canceled");var h=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function u(t){try{c(n.next(t))}catch(t){i(t)}}function a(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(u,a)}c((n=n.apply(t,e||[])).next())}))};class v{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;this._value=t,this._cancelError=e,this._queue=[],this._weightedWaiters=[]}acquire(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise(((r,n)=>{const o={resolve:r,reject:n,weight:t,priority:e},i=d(this._queue,(t=>e<=t.priority));-1===i&&t<=this._value?this._dispatchItem(o):this._queue.splice(i+1,0,o)}))}runExclusive(t){return h(this,arguments,void 0,(function(t){var e=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function*(){const[o,i]=yield e.acquire(r,n);try{return yield t(o)}finally{i()}}()}))}waitForUnlock(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return this._couldLockImmediately(t,e)?Promise.resolve():new Promise((r=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),function(t,e){const r=d(t,(t=>e.priority<=t.priority));t.splice(r+1,0,e)}(this._weightedWaiters[t-1],{resolve:r,priority:e})}))}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatchQueue()}release(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatchQueue()}cancel(){this._queue.forEach((t=>t.reject(this._cancelError))),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(t){const e=this._value;this._value-=t.weight,t.resolve([e,this._newReleaser(t.weight)])}_newReleaser(t){let e=!1;return()=>{e||(e=!0,this.release(t))}}_drainUnlockWaiters(){if(0===this._queue.length)for(let t=this._value;t>0;t--){const e=this._weightedWaiters[t-1];e&&(e.forEach((t=>t.resolve())),this._weightedWaiters[t-1]=[])}else{const t=this._queue[0].priority;for(let e=this._value;e>0;e--){const r=this._weightedWaiters[e-1];if(!r)continue;const n=r.findIndex((e=>e.priority<=t));(-1===n?r:r.splice(0,n)).forEach((t=>t.resolve()))}}}_couldLockImmediately(t,e){return(0===this._queue.length||this._queue[0].priority<e)&&t<=this._value}}function d(t,e){for(let r=t.length-1;r>=0;r--)if(e(t[r]))return r;return-1}var p=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function u(t){try{c(n.next(t))}catch(t){i(t)}}function a(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(u,a)}c((n=n.apply(t,e||[])).next())}))};class y{constructor(t){this._semaphore=new v(1,t)}acquire(){return p(this,arguments,void 0,(function(){var t=this;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function*(){const[,r]=yield t._semaphore.acquire(1,e);return r}()}))}runExclusive(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._semaphore.runExclusive((()=>t()),1,e)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._semaphore.waitForUnlock(1,t)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}var b=Array.isArray,j="object"==typeof global&&global&&global.Object===Object&&global,g="object"==typeof self&&self&&self.Object===Object&&self,_=j||g||Function("return this")(),w=_.Symbol,m=Object.prototype,O=m.hasOwnProperty,x=m.toString,A=w?w.toStringTag:void 0;var k=Object.prototype.toString;var P=w?w.toStringTag:void 0;function S(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":P&&P in Object(t)?function(t){var e=O.call(t,A),r=t[A];try{t[A]=void 0;var n=!0}catch(t){}var o=x.call(t);return n&&(e?t[A]=r:delete t[A]),o}(t):function(t){return k.call(t)}(t)}function E(t){return null!=t&&"object"==typeof t}function F(t){return"symbol"==typeof t||E(t)&&"[object Symbol]"==S(t)}var q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,z=/^\w*$/;function I(t,e){if(b(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!F(t))||(z.test(t)||!q.test(t)||null!=e&&t in Object(e))}function U(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function D(t){if(!U(t))return!1;var e=S(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var M,$=_["__core-js_shared__"],N=(M=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+M:"";var L=Function.prototype.toString;function T(t){if(null!=t){try{return L.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var W=/^\[object .+?Constructor\]$/,B=Function.prototype,R=Object.prototype,C=B.toString,V=R.hasOwnProperty,Q=RegExp("^"+C.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function G(t){return!(!U(t)||(e=t,N&&N in e))&&(D(t)?Q:W).test(T(t));var e}function J(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return G(r)?r:void 0}var H=J(Object,"create");var K=Object.prototype.hasOwnProperty;var X=Object.prototype.hasOwnProperty;function Y(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Z(t,e){return t===e||t!=t&&e!=e}function tt(t,e){for(var r=t.length;r--;)if(Z(t[r][0],e))return r;return-1}Y.prototype.clear=function(){this.__data__=H?H(null):{},this.size=0},Y.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Y.prototype.get=function(t){var e=this.__data__;if(H){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return K.call(e,t)?e[t]:void 0},Y.prototype.has=function(t){var e=this.__data__;return H?void 0!==e[t]:X.call(e,t)},Y.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=H&&void 0===e?"__lodash_hash_undefined__":e,this};var et=Array.prototype.splice;function rt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}rt.prototype.clear=function(){this.__data__=[],this.size=0},rt.prototype.delete=function(t){var e=this.__data__,r=tt(e,t);return!(r<0)&&(r==e.length-1?e.pop():et.call(e,r,1),--this.size,!0)},rt.prototype.get=function(t){var e=this.__data__,r=tt(e,t);return r<0?void 0:e[r][1]},rt.prototype.has=function(t){return tt(this.__data__,t)>-1},rt.prototype.set=function(t,e){var r=this.__data__,n=tt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var nt=J(_,"Map");function ot(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function it(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}it.prototype.clear=function(){this.size=0,this.__data__={hash:new Y,map:new(nt||rt),string:new Y}},it.prototype.delete=function(t){var e=ot(this,t).delete(t);return this.size-=e?1:0,e},it.prototype.get=function(t){return ot(this,t).get(t)},it.prototype.has=function(t){return ot(this,t).has(t)},it.prototype.set=function(t,e){var r=ot(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function ut(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var u=t.apply(this,n);return r.cache=i.set(o,u)||i,u};return r.cache=new(ut.Cache||it),r}ut.Cache=it;var at,ct,lt,ft=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,st=/\\(\\)?/g,ht=(at=function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(ft,(function(t,r,n,o){e.push(n?o.replace(st,"$1"):r||t)})),e},ct=ut(at,(function(t){return 500===lt.size&&lt.clear(),t})),lt=ct.cache,ct),vt=ht;function dt(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}var pt=w?w.prototype:void 0,yt=pt?pt.toString:void 0;function bt(t){if("string"==typeof t)return t;if(b(t))return dt(t,bt)+"";if(F(t))return yt?yt.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function jt(t){return null==t?"":bt(t)}function gt(t,e){return b(t)?t:I(t,e)?[t]:vt(jt(t))}function _t(t){if("string"==typeof t||F(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function wt(t,e){for(var r=0,n=(e=gt(e,t)).length;null!=t&&r<n;)t=t[_t(e[r++])];return r&&r==n?t:void 0}function mt(t,e,r){var n=null==t?void 0:wt(t,e);return void 0===n?r:n}function Ot(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}var xt,At=function(t,e,r){for(var n=-1,o=Object(t),i=r(t),u=i.length;u--;){var a=i[xt?u:++n];if(!1===e(o[a],a,o))break}return t};function kt(t){return E(t)&&"[object Arguments]"==S(t)}var Pt=Object.prototype,St=Pt.hasOwnProperty,Et=Pt.propertyIsEnumerable,Ft=kt(function(){return arguments}())?kt:function(t){return E(t)&&St.call(t,"callee")&&!Et.call(t,"callee")},qt=Ft;var zt="object"==typeof exports&&exports&&!exports.nodeType&&exports,It=zt&&"object"==typeof module&&module&&!module.nodeType&&module,Ut=It&&It.exports===zt?_.Buffer:void 0,Dt=(Ut?Ut.isBuffer:void 0)||function(){return!1},Mt=/^(?:0|[1-9]\d*)$/;function $t(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&Mt.test(t))&&t>-1&&t%1==0&&t<e}function Nt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}var Lt={};function Tt(t){return function(e){return t(e)}}Lt["[object Float32Array]"]=Lt["[object Float64Array]"]=Lt["[object Int8Array]"]=Lt["[object Int16Array]"]=Lt["[object Int32Array]"]=Lt["[object Uint8Array]"]=Lt["[object Uint8ClampedArray]"]=Lt["[object Uint16Array]"]=Lt["[object Uint32Array]"]=!0,Lt["[object Arguments]"]=Lt["[object Array]"]=Lt["[object ArrayBuffer]"]=Lt["[object Boolean]"]=Lt["[object DataView]"]=Lt["[object Date]"]=Lt["[object Error]"]=Lt["[object Function]"]=Lt["[object Map]"]=Lt["[object Number]"]=Lt["[object Object]"]=Lt["[object RegExp]"]=Lt["[object Set]"]=Lt["[object String]"]=Lt["[object WeakMap]"]=!1;var Wt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Bt=Wt&&"object"==typeof module&&module&&!module.nodeType&&module,Rt=Bt&&Bt.exports===Wt&&j.process,Ct=function(){try{var t=Bt&&Bt.require&&Bt.require("util").types;return t||Rt&&Rt.binding&&Rt.binding("util")}catch(t){}}(),Vt=Ct&&Ct.isTypedArray,Qt=Vt?Tt(Vt):function(t){return E(t)&&Nt(t.length)&&!!Lt[S(t)]},Gt=Object.prototype.hasOwnProperty;function Jt(t,e){var r=b(t),n=!r&&qt(t),o=!r&&!n&&Dt(t),i=!r&&!n&&!o&&Qt(t),u=r||n||o||i,a=u?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],c=a.length;for(var l in t)!e&&!Gt.call(t,l)||u&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||$t(l,c))||a.push(l);return a}var Ht=Object.prototype;function Kt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ht)}function Xt(t,e){return function(r){return t(e(r))}}var Yt=Xt(Object.keys,Object),Zt=Object.prototype.hasOwnProperty;function te(t){if(!Kt(t))return Yt(t);var e=[];for(var r in Object(t))Zt.call(t,r)&&"constructor"!=r&&e.push(r);return e}function ee(t){return null!=t&&Nt(t.length)&&!D(t)}function re(t){return ee(t)?Jt(t):te(t)}var ne=function(t,e){return function(r,n){if(null==r)return r;if(!ee(r))return t(r,n);for(var o=r.length,i=e?o:-1,u=Object(r);(e?i--:++i<o)&&!1!==n(u[i],i,u););return r}}((function(t,e){return t&&At(t,e,re)})),oe=ne;function ie(t){return t}function ue(t,e){var r;return(b(t)?Ot:oe)(t,"function"==typeof(r=e)?r:ie)}function ae(t){var e=this.__data__=new rt(t);this.size=e.size}ae.prototype.clear=function(){this.__data__=new rt,this.size=0},ae.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},ae.prototype.get=function(t){return this.__data__.get(t)},ae.prototype.has=function(t){return this.__data__.has(t)},ae.prototype.set=function(t,e){var r=this.__data__;if(r instanceof rt){var n=r.__data__;if(!nt||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new it(n)}return r.set(t,e),this.size=r.size,this};function ce(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new it;++e<r;)this.add(t[e])}function le(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function fe(t,e){return t.has(e)}ce.prototype.add=ce.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ce.prototype.has=function(t){return this.__data__.has(t)};function se(t,e,r,n,o,i){var u=1&r,a=t.length,c=e.length;if(a!=c&&!(u&&c>a))return!1;var l=i.get(t),f=i.get(e);if(l&&f)return l==e&&f==t;var s=-1,h=!0,v=2&r?new ce:void 0;for(i.set(t,e),i.set(e,t);++s<a;){var d=t[s],p=e[s];if(n)var y=u?n(p,d,s,e,t,i):n(d,p,s,t,e,i);if(void 0!==y){if(y)continue;h=!1;break}if(v){if(!le(e,(function(t,e){if(!fe(v,e)&&(d===t||o(d,t,r,n,i)))return v.push(e)}))){h=!1;break}}else if(d!==p&&!o(d,p,r,n,i)){h=!1;break}}return i.delete(t),i.delete(e),h}var he=_.Uint8Array;function ve(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function de(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var pe=w?w.prototype:void 0,ye=pe?pe.valueOf:void 0;function be(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}function je(t,e,r){var n=e(t);return b(t)?n:be(n,r(t))}function ge(){return[]}var _e=Object.prototype.propertyIsEnumerable,we=Object.getOwnPropertySymbols,me=we?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var u=t[r];e(u,r,t)&&(i[o++]=u)}return i}(we(t),(function(e){return _e.call(t,e)})))}:ge,Oe=me;function xe(t){return je(t,re,Oe)}var Ae=Object.prototype.hasOwnProperty;var ke=J(_,"DataView"),Pe=J(_,"Promise"),Se=J(_,"Set"),Ee=J(_,"WeakMap"),Fe="[object Map]",qe="[object Promise]",ze="[object Set]",Ie="[object WeakMap]",Ue="[object DataView]",De=T(ke),Me=T(nt),$e=T(Pe),Ne=T(Se),Le=T(Ee),Te=S;(ke&&Te(new ke(new ArrayBuffer(1)))!=Ue||nt&&Te(new nt)!=Fe||Pe&&Te(Pe.resolve())!=qe||Se&&Te(new Se)!=ze||Ee&&Te(new Ee)!=Ie)&&(Te=function(t){var e=S(t),r="[object Object]"==e?t.constructor:void 0,n=r?T(r):"";if(n)switch(n){case De:return Ue;case Me:return Fe;case $e:return qe;case Ne:return ze;case Le:return Ie}return e});var We=Te,Be="[object Arguments]",Re="[object Array]",Ce="[object Object]",Ve=Object.prototype.hasOwnProperty;function Qe(t,e,r,n,o,i){var u=b(t),a=b(e),c=u?Re:We(t),l=a?Re:We(e),f=(c=c==Be?Ce:c)==Ce,s=(l=l==Be?Ce:l)==Ce,h=c==l;if(h&&Dt(t)){if(!Dt(e))return!1;u=!0,f=!1}if(h&&!f)return i||(i=new ae),u||Qt(t)?se(t,e,r,n,o,i):function(t,e,r,n,o,i,u){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new he(t),new he(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Z(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=ve;case"[object Set]":var c=1&n;if(a||(a=de),t.size!=e.size&&!c)return!1;var l=u.get(t);if(l)return l==e;n|=2,u.set(t,e);var f=se(a(t),a(e),n,o,i,u);return u.delete(t),f;case"[object Symbol]":if(ye)return ye.call(t)==ye.call(e)}return!1}(t,e,c,r,n,o,i);if(!(1&r)){var v=f&&Ve.call(t,"__wrapped__"),d=s&&Ve.call(e,"__wrapped__");if(v||d){var p=v?t.value():t,y=d?e.value():e;return i||(i=new ae),o(p,y,r,n,i)}}return!!h&&(i||(i=new ae),function(t,e,r,n,o,i){var u=1&r,a=xe(t),c=a.length;if(c!=xe(e).length&&!u)return!1;for(var l=c;l--;){var f=a[l];if(!(u?f in e:Ae.call(e,f)))return!1}var s=i.get(t),h=i.get(e);if(s&&h)return s==e&&h==t;var v=!0;i.set(t,e),i.set(e,t);for(var d=u;++l<c;){var p=t[f=a[l]],y=e[f];if(n)var b=u?n(y,p,f,e,t,i):n(p,y,f,t,e,i);if(!(void 0===b?p===y||o(p,y,r,n,i):b)){v=!1;break}d||(d="constructor"==f)}if(v&&!d){var j=t.constructor,g=e.constructor;j==g||!("constructor"in t)||!("constructor"in e)||"function"==typeof j&&j instanceof j&&"function"==typeof g&&g instanceof g||(v=!1)}return i.delete(t),i.delete(e),v}(t,e,r,n,o,i))}function Ge(t,e,r,n,o){return t===e||(null==t||null==e||!E(t)&&!E(e)?t!=t&&e!=e:Qe(t,e,r,n,Ge,o))}function Je(t){return t==t&&!U(t)}function He(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}function Ke(t){var e=function(t){for(var e=re(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,Je(o)]}return e}(t);return 1==e.length&&e[0][2]?He(e[0][0],e[0][1]):function(r){return r===t||function(t,e,r,n){var o=r.length,i=o,u=!n;if(null==t)return!i;for(t=Object(t);o--;){var a=r[o];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){var c=(a=r[o])[0],l=t[c],f=a[1];if(u&&a[2]){if(void 0===l&&!(c in t))return!1}else{var s=new ae;if(n)var h=n(l,f,c,t,e,s);if(!(void 0===h?Ge(f,l,3,n,s):h))return!1}}return!0}(r,t,e)}}function Xe(t,e){return null!=t&&e in Object(t)}function Ye(t,e){return null!=t&&function(t,e,r){for(var n=-1,o=(e=gt(e,t)).length,i=!1;++n<o;){var u=_t(e[n]);if(!(i=null!=t&&r(t,u)))break;t=t[u]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&Nt(o)&&$t(u,o)&&(b(t)||qt(t))}(t,e,Xe)}function Ze(t){return function(e){return null==e?void 0:e[t]}}function tr(t){return I(t)?Ze(_t(t)):function(t){return function(e){return wt(e,t)}}(t)}function er(t){return"function"==typeof t?t:null==t?ie:"object"==typeof t?b(t)?function(t,e){return I(t)&&Je(e)?He(_t(t),e):function(r){var n=mt(r,t);return void 0===n&&n===e?Ye(r,t):Ge(e,n,3)}}(t[0],t[1]):Ke(t):tr(t)}function rr(t,e){var r=-1,n=ee(t)?Array(t.length):[];return oe(t,(function(t,o,i){n[++r]=e(t,o,i)})),n}function nr(t,e){return(b(t)?dt:rr)(t,er(e))}var or=function(){try{var t=J(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),ir=or;function ur(t,e,r){"__proto__"==e&&ir?ir(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function ar(t,e,r){(void 0!==r&&!Z(t[e],r)||void 0===r&&!(e in t))&&ur(t,e,r)}var cr="object"==typeof exports&&exports&&!exports.nodeType&&exports,lr=cr&&"object"==typeof module&&module&&!module.nodeType&&module,fr=lr&&lr.exports===cr?_.Buffer:void 0,sr=fr?fr.allocUnsafe:void 0;function hr(t,e){if(e)return t.slice();var r=t.length,n=sr?sr(r):new t.constructor(r);return t.copy(n),n}function vr(t){var e=new t.constructor(t.byteLength);return new he(e).set(new he(t)),e}function dr(t,e){var r=e?vr(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function pr(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var yr=Object.create,br=function(){function t(){}return function(e){if(!U(e))return{};if(yr)return yr(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),jr=br,gr=Xt(Object.getPrototypeOf,Object);function _r(t){return"function"!=typeof t.constructor||Kt(t)?{}:jr(gr(t))}var wr=Function.prototype,mr=Object.prototype,Or=wr.toString,xr=mr.hasOwnProperty,Ar=Or.call(Object);function kr(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Pr=Object.prototype.hasOwnProperty;function Sr(t,e,r){var n=t[e];Pr.call(t,e)&&Z(n,r)&&(void 0!==r||e in t)||ur(t,e,r)}function Er(t,e,r,n){var o=!r;r||(r={});for(var i=-1,u=e.length;++i<u;){var a=e[i],c=n?n(r[a],t[a],a,r,t):void 0;void 0===c&&(c=t[a]),o?ur(r,a,c):Sr(r,a,c)}return r}var Fr=Object.prototype.hasOwnProperty;function qr(t){if(!U(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=Kt(t),r=[];for(var n in t)("constructor"!=n||!e&&Fr.call(t,n))&&r.push(n);return r}function zr(t){return ee(t)?Jt(t,!0):qr(t)}function Ir(t,e,r,n,o,i,u){var a=kr(t,r),c=kr(e,r),l=u.get(c);if(l)ar(t,r,l);else{var f,s=i?i(a,c,r+"",t,e,u):void 0,h=void 0===s;if(h){var v=b(c),d=!v&&Dt(c),p=!v&&!d&&Qt(c);s=c,v||d||p?b(a)?s=a:E(f=a)&&ee(f)?s=pr(a):d?(h=!1,s=hr(c,!0)):p?(h=!1,s=dr(c,!0)):s=[]:function(t){if(!E(t)||"[object Object]"!=S(t))return!1;var e=gr(t);if(null===e)return!0;var r=xr.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Or.call(r)==Ar}(c)||qt(c)?(s=a,qt(a)?s=function(t){return Er(t,zr(t))}(a):U(a)&&!D(a)||(s=_r(c))):h=!1}h&&(u.set(c,s),o(s,c,n,i,u),u.delete(c)),ar(t,r,s)}}function Ur(t,e,r,n,o){t!==e&&At(e,(function(i,u){if(o||(o=new ae),U(i))Ir(t,e,u,r,Ur,n,o);else{var a=n?n(kr(t,u),i,u+"",t,e,o):void 0;void 0===a&&(a=i),ar(t,u,a)}}),zr)}var Dr=Math.max;function Mr(t,e,r){return e=Dr(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=Dr(n.length-e,0),u=Array(i);++o<i;)u[o]=n[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=n[o];return a[e]=r(u),function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}(t,this,a)}}var $r=ir?function(t,e){return ir(t,"toString",{configurable:!0,enumerable:!1,value:(r=e,function(){return r}),writable:!0});var r}:ie,Nr=$r,Lr=Date.now;var Tr=function(t){var e=0,r=0;return function(){var n=Lr(),o=16-(n-r);if(r=n,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Nr),Wr=Tr;var Br,Rr=(Br=function(t,e,r){Ur(t,e,r)},function(t,e){return Wr(Mr(t,e,ie),t+"")}((function(t,e){var r=-1,n=e.length,o=n>1?e[n-1]:void 0,i=n>2?e[2]:void 0;for(o=Br.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(t,e,r){if(!U(r))return!1;var n=typeof e;return!!("number"==n?ee(r)&&$t(e,r.length):"string"==n&&e in r)&&Z(r[e],t)}(e[0],e[1],i)&&(o=n<3?void 0:o,n=1),t=Object(t);++r<n;){var u=e[r];u&&Br(t,u,r,o)}return t}))),Cr=Rr;var Vr=Ze("length"),Qr=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Gr="\\ud800-\\udfff",Jr="["+Gr+"]",Hr="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Kr="\\ud83c[\\udffb-\\udfff]",Xr="[^"+Gr+"]",Yr="(?:\\ud83c[\\udde6-\\uddff]){2}",Zr="[\\ud800-\\udbff][\\udc00-\\udfff]",tn="(?:"+Hr+"|"+Kr+")"+"?",en="[\\ufe0e\\ufe0f]?",rn=en+tn+("(?:\\u200d(?:"+[Xr,Yr,Zr].join("|")+")"+en+tn+")*"),nn="(?:"+[Xr+Hr+"?",Hr,Yr,Zr,Jr].join("|")+")",on=RegExp(Kr+"(?="+Kr+")|"+nn+rn,"g");function un(t){return function(t){return Qr.test(t)}(t)?function(t){for(var e=on.lastIndex=0;on.test(t);)++e;return e}(t):Vr(t)}function an(t){if(null==t)return 0;if(ee(t))return"string"==typeof(e=t)||!b(e)&&E(e)&&"[object String]"==S(e)?un(t):t.length;var e,r=We(t);return"[object Map]"==r||"[object Set]"==r?t.size:te(t).length}var cn=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)be(e,Oe(t)),t=gr(t);return e}:ge,ln=cn;function fn(t){return je(t,zr,ln)}var sn=Object.prototype.hasOwnProperty;var hn=/\w*$/;var vn=w?w.prototype:void 0,dn=vn?vn.valueOf:void 0;function pn(t,e,r){var n,o=t.constructor;switch(e){case"[object ArrayBuffer]":return vr(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return function(t,e){var r=e?vr(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return dr(t,r);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,hn.exec(t));return e.lastIndex=t.lastIndex,e}(t);case"[object Symbol]":return n=t,dn?Object(dn.call(n)):{}}}var yn=Ct&&Ct.isMap,bn=yn?Tt(yn):function(t){return E(t)&&"[object Map]"==We(t)};var jn=Ct&&Ct.isSet,gn=jn?Tt(jn):function(t){return E(t)&&"[object Set]"==We(t)},_n="[object Arguments]",wn="[object Function]",mn="[object Object]",On={};function xn(t,e,r,n,o,i){var u,a=1&e,c=2&e,l=4&e;if(r&&(u=o?r(t,n,o,i):r(t)),void 0!==u)return u;if(!U(t))return t;var f=b(t);if(f){if(u=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&sn.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!a)return pr(t,u)}else{var s=We(t),h=s==wn||"[object GeneratorFunction]"==s;if(Dt(t))return hr(t,a);if(s==mn||s==_n||h&&!o){if(u=c||h?{}:_r(t),!a)return c?function(t,e){return Er(t,ln(t),e)}(t,function(t,e){return t&&Er(e,zr(e),t)}(u,t)):function(t,e){return Er(t,Oe(t),e)}(t,function(t,e){return t&&Er(e,re(e),t)}(u,t))}else{if(!On[s])return o?t:{};u=pn(t,s,a)}}i||(i=new ae);var v=i.get(t);if(v)return v;i.set(t,u),gn(t)?t.forEach((function(n){u.add(xn(n,e,r,n,t,i))})):bn(t)&&t.forEach((function(n,o){u.set(o,xn(n,e,r,o,t,i))}));var d=f?void 0:(l?c?fn:xe:c?zr:re)(t);return Ot(d||t,(function(n,o){d&&(n=t[o=n]),Sr(u,o,xn(n,e,r,o,t,i))})),u}On[_n]=On["[object Array]"]=On["[object ArrayBuffer]"]=On["[object DataView]"]=On["[object Boolean]"]=On["[object Date]"]=On["[object Float32Array]"]=On["[object Float64Array]"]=On["[object Int8Array]"]=On["[object Int16Array]"]=On["[object Int32Array]"]=On["[object Map]"]=On["[object Number]"]=On[mn]=On["[object RegExp]"]=On["[object Set]"]=On["[object String]"]=On["[object Symbol]"]=On["[object Uint8Array]"]=On["[object Uint8ClampedArray]"]=On["[object Uint16Array]"]=On["[object Uint32Array]"]=!0,On["[object Error]"]=On[wn]=On["[object WeakMap]"]=!1;function An(t){return xn(t,5)}var kn=/\s/;var Pn=/^\s+/;function Sn(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&kn.test(t.charAt(e)););return e}(t)+1).replace(Pn,""):t}var En=/^[-+]0x[0-9a-f]+$/i,Fn=/^0b[01]+$/i,qn=/^0o[0-7]+$/i,zn=parseInt;function In(t){if("number"==typeof t)return t;if(F(t))return NaN;if(U(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=U(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Sn(t);var r=Fn.test(t);return r||qn.test(t)?zn(t.slice(2),r?2:8):En.test(t)?NaN:+t}var Un=1/0;function Dn(t){return t?(t=In(t))===Un||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function Mn(t){var e=Dn(t),r=e%1;return e==e?r?e-r:e:0}function $n(t){return"[object String]"===Object.prototype.toString.call(t)}function Nn(t){return!(!$n(t)||""===t)}function Ln(t){return t!=t}function Tn(t){let e=!1;if(Nn(t))e=!isNaN(Number(t));else if(function(t){return"[object Number]"===Object.prototype.toString.call(t)}(t)){if(Ln(t))return!1;e=!0}return e}function Wn(t){if(!Tn(t))return 0;return Dn(t)}function Bn(t){return!!Tn(t)&&(t=Wn(t),"number"==typeof(e=t)&&e==Mn(e));var e}var Rn=_.isFinite,Cn=Math.min;var Vn=function(t){var e=Math[t];return function(t,r){if(t=In(t),(r=null==r?0:Cn(Mn(r),292))&&Rn(t)){var n=(jt(t)+"e").split("e");return+((n=(jt(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}("round"),Qn=Vn;function Gn(t){if(!Tn(t))return 0;t=Wn(t);let e=Qn(t);return"0"===String(e)?0:e}let Jn="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),Hn=Jn.length;function Kn(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,e=[];var r;t=Bn(r=t)&&Gn(r)>0?Gn(t):32;for(let r=0;r<t;r++)e[r]=Jn[0|Math.random()*Hn];return e.join("")}function Xn(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(o);++n<o;)i[n]=t[n+e];return i}function Yn(t){return"[object Array]"===Object.prototype.toString.call(t)}function Zn(t){return"[object Object]"===Object.prototype.toString.call(t)}function to(t){let e=Object.prototype.toString.call(t);return"[object Function]"===e||"[object AsyncFunction]"===e}function eo(t,e){let r=function(){let t,e,r=new Promise((function(){t=arguments[0],e=arguments[1]}));return r.resolve=t,r.reject=e,r}();if(!Yn(t)&&!Zn(t))return r.reject("rs is not an array or object"),r;let n=!1;if(Zn(t)){n=!0;let e=[];ue(t,((t,r)=>{e.push({k:r,v:t})})),t=e}to(e)||(e=function(t){return t});let o=-1,i=[];return t.reduce((function(t,r){return t.then((function(t){i.push(t),o+=1;let u=o,a=r;return n&&(u=r.k,a=r.v),to(e)?e(a,u):a}))}),Promise.resolve()).then((function(t){var e,n,o,u;i.push(t),u=null==(e=i)?0:e.length,i=u?Xn(e,(n=o||void 0===n?1:Mn(n))<0?0:n,u):[],r.resolve(i)})).catch((function(t){r.reject(t)})),r}function ro(t){if(Zn(t)){for(let e in t)return!0;return!1}return!1}function no(t){return!!function(t){return"[object Undefined]"===Object.prototype.toString.call(t)}(t)||(!!function(t){return"[object Null]"===Object.prototype.toString.call(t)}(t)||(!!function(t){if(Zn(t)){for(let e in t)return!1;return!0}return!1}(t)||(!!function(t){return!(!$n(t)||""!==t)}(t)||(!!function(t){return!!Yn(t)&&0===t.length}(t)||!!Ln(t)))))}function oo(t){return!!Yn(t)&&(0!==t.length&&(1!==t.length||!no(t[0])))}function io(t,e){return!!Zn(t)&&(!(!Nn(e)&&!Tn(e))&&e in t)}function uo(t,e){return null==(t=function(t,e){return e.length<2?t:wt(t,Xn(e,0,-1))}(t,e=gt(e,t)))||delete t[_t((r=e,n=null==r?0:r.length,n?r[n-1]:void 0))];var r,n}var ao=Array.prototype.splice;function co(t,e){if(t!==e){var r=void 0!==t,n=null===t,o=t==t,i=F(t),u=void 0!==e,a=null===e,c=e==e,l=F(e);if(!a&&!l&&!i&&t>e||i&&u&&c&&!a&&!l||n&&u&&c||!r&&c||!o)return 1;if(!n&&!i&&!l&&t<e||l&&r&&o&&!n&&!i||a&&r&&o||!u&&o||!c)return-1}return 0}var lo=w?w.isConcatSpreadable:void 0;function fo(t){return b(t)||qt(t)||!!(lo&&t&&t[lo])}function so(t,e,r,n,o){var i=-1,u=t.length;for(r||(r=fo),o||(o=[]);++i<u;){var a=t[i];e>0&&r(a)?e>1?so(a,e-1,r,n,o):be(o,a):n||(o[o.length]=a)}return o}function ho(t){return(null==t?0:t.length)?so(t,1):[]}var vo=function(t){return Wr(Mr(t,void 0,ho),t+"")}((function(t,e){var r=null==t?0:t.length,n=function(t,e){for(var r=-1,n=e.length,o=Array(n),i=null==t;++r<n;)o[r]=i?void 0:mt(t,e[r]);return o}(t,e);return function(t,e){for(var r=t?e.length:0,n=r-1;r--;){var o=e[r];if(r==n||o!==i){var i=o;$t(o)?ao.call(t,o,1):uo(t,o)}}}(t,dt(e,(function(t){return $t(t,r)?+t:t})).sort(co)),n})),po=vo;function yo(t,e){if(!oo(t))return[];var r;if(Bn(r=e)&&Gn(r)>=0&&(e=[e]),!oo(e))return t;e=nr(e,(t=>Gn(t)));let n=An(t);return po(n,e),n}return function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=mt(r,"url");Nn(n)||(n="./db.json");let o=mt(r,"db");Nn(o)||(o="worm");let i=mt(r,"cl");Nn(i)||(i="test");let a=`${o}:${i}`,c=new f(n),l=new e.Low(c,{}),s=new y,h=new t.EventEmitter;async function v(t){return await s.runExclusive((async()=>{let e=!1;if(!ro(t)&&!oo(t))return Promise.reject("data is not an effective object or array");t=An(t);let r=null;try{Yn(t)||(t=[t]),t=nr(t,(function(t){return Nn(t.id)||(t.id=Kn()),t})),await l.read(),io(l.data,a)||(l.data[a]=[]);let e={};ue(l.data[a],((t,r)=>{e[t.id]={k:r,v:t}}));let n=an(t),o=0,i=!1;ue(t,(t=>{io(e,t.id)||(l.data[a].push(t),o++,i=!0)})),i&&await l.write(),r={n:n,nInserted:o,ok:1},h.emit("change","insert",t,r)}catch(t){e=!0,r=t}return e?Promise.reject(r):r}))}return h.select=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!1,r=null;try{if(await l.read(),io(l.data,a)||(l.data[a]=[]),ro(t)){r=new u.Query(t).find(l.data[a]).all()}else r=l.data[a]}catch(t){e=!0,r=t}return e?Promise.reject(r):r},h.insert=v,h.save=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await s.runExclusive((async()=>{let r=!1;if(!ro(t)&&!oo(t))return Promise.reject("data is not an effective object or array");t=An(t);let n=mt(e,"autoInsert",!0),o=null;try{Yn(t)||(t=[t]),t=nr(t,(function(t){return Nn(t.id)||(t.id=Kn()),t})),await l.read(),io(l.data,a)||(l.data[a]=[]);let e={};ue(l.data[a],((t,r)=>{e[t.id]={k:r,v:t}}));let r=!1;o=await eo(t,(async t=>{let o=null,i=mt(e,t.id,null);var u,c;return ro(i)&&(u=t,c=i.v,Ge(u,c)||(l.data[a][i.k]=Cr(l.data[a][i.k],t),o={update:!0},r=!0)),o=ro(o)?{n:1,nModified:1,ok:1}:{n:0,nModified:0,ok:1},n&&0===o.n&&(o=await v(t)),o})),r&&await l.write(),h.emit("change","save",t,o)}catch(t){r=!0,o=t}return r?Promise.reject(o):o}))},h.del=async function(t){return await s.runExclusive((async()=>{let e=!1;if(!ro(t)&&!oo(t))return Promise.reject("data is not an effective object or array");t=An(t);let r=null;try{Yn(t)||(t=[t]),await l.read(),io(l.data,a)||(l.data[a]=[]);let e={};ue(l.data[a],((t,r)=>{e[t.id]={k:r,v:t}}));let n=[],o=!1;r=await eo(t,(async t=>{let r=null,i=mt(t,"id","");if(Nn(i)){let t=mt(e,i,null);ro(t)?(n.push(t.k),o=!0,r={n:1,nDeleted:1,ok:1}):r={n:1,nDeleted:0,ok:1}}else r={n:1,nDeleted:0,ok:0};return r})),o&&(l.data[a]=yo(l.data[a],n)),o&&await l.write(),h.emit("change","del",t,r)}catch(t){e=!0,r=t}return e?Promise.reject(r):r}))},h.delAll=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await s.runExclusive((async()=>{let e=!1,r=null;try{await l.read(),io(l.data,a)||(l.data[a]=[]);let e=an(l.data[a]),n=0,o=!1;if(ro(t)){let r=new u.Query(t).find(l.data[a]).all();if(n=an(r),0===n);else if(e===n)l.data[a]=[],o=!0;else{let t={};ue(r,((e,r)=>{t[e.id]={k:r,v:e}}));let e=[];ue(l.data[a],((r,n)=>{io(t,r.id)||e.push(r)})),l.data[a]=e,o=!0}}else n=e,l.data[a]=[],o=!0;o&&await l.write(),r={n:e,nDeleted:n,ok:1},h.emit("change","delAll",null,r)}catch(t){e=!0,r=t}return e?Promise.reject(r):r}))},h}}));
//# sourceMappingURL=w-orm-lowdb.umd.js.map
